<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ“¶ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ© WLAN</title>
  <style>
    :root{
      --bg:#0f172a;        /* slate-900 */
      --card:#111827;      /* gray-900 */
      --ink:#e5e7eb;       /* gray-200 */
      --muted:#9ca3af;     /* gray-400 */
      --brand:#38bdf8;     /* sky-400 */
      --accent:#22c55e;    /* green-500 */
      --warn:#f59e0b;      /* amber-500 */
      --danger:#ef4444;    /* red-500 */
    }
    *{box-sizing:border-box}
    body{
      margin:0; background:linear-gradient(180deg,#0b1220, #0f172a 30%, #0b1220);
      color:var(--ink); font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Naskh Arabic UI", Tahoma, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      min-height:100dvh; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{ width:min(1000px,100%); }
    header{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:16px}
    header h1{font-size:clamp(18px,3vw,24px); margin:0; letter-spacing:.3px; color:var(--brand)}
    .controls{display:flex; flex-wrap:wrap; gap:8px; align-items:center}
    button{
      background:#0b1220; color:var(--ink); border:1px solid #263042; border-radius:12px;
      padding:10px 14px; cursor:pointer; font-weight:600; transition:.2s transform ease, .2s background ease;
    }
    button:hover{ transform:translateY(-1px); background:#0b1426 }
    button.primary{ border-color:var(--brand) }
    button.good{ border-color:var(--accent) }
    button.bad{ border-color:var(--danger) }
    input[type="number"], input[type="text"]{ background:#0b1220; color:var(--ink); border:1px solid #263042; border-radius:10px; padding:8px 10px; width:100%; }
    .card{ perspective: 1200px; isolation:isolate; height: clamp(280px, 42vh, 420px); background: transparent; border-radius:16px; position:relative; }
    .card-inner{ position:absolute; inset:0; border-radius:16px; transform-style:preserve-3d; transition: transform .5s cubic-bezier(.2,.8,.2,1); }
    .face{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; text-align:center; padding:28px; background: radial-gradient(1200px 400px at 100% 0%, #0b1426, var(--card)); border:1px solid #1f2937; border-radius:16px; backface-visibility:hidden; box-shadow: 0 10px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.03); }
    .face.back{ transform: rotateY(180deg); background:#0f1a2e }
    .flipped .card-inner{ transform: rotateY(180deg); }
    .meta{display:flex; align-items:center; gap:10px; opacity:.9; font-size:14px}
    .pill{border:1px dashed #2b3450; padding:4px 10px; border-radius:999px}
    .muted{color:var(--muted)}
    .progress{height:10px; background:#162033; border-radius:999px; overflow:hidden; border:1px solid #263042; margin-top:12px}
    .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--brand), #60a5fa); transition:width .3s ease}
    .panel{background:#0b1426; border:1px solid #263042; border-radius:16px; padding:16px}
    .small{font-size:12px; opacity:.85}
    .hidden{display:none}
    .exbox{ margin-top:12px; padding:14px 16px; border-radius:14px; line-height:1.7; border:1px solid #26425a; background:linear-gradient(180deg,#0b1426,#0c162a); box-shadow: inset 0 1px 0 rgba(255,255,255,.04), 0 8px 24px rgba(0,0,0,.25); }
    .exbox h4{margin:0 0 6px 0; font-size:14px; color:#7dd3fc}
    .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:#0a1220; border:1px solid #263042; border-radius:6px; padding:0 6px}
    .quizbox{ margin-top:12px; padding:16px; border-radius:14px; border:1px solid #334155; background:linear-gradient(180deg,#0c1528,#0f1a30); box-shadow: inset 0 1px 0 rgba(255,255,255,.04), 0 8px 24px rgba(0,0,0,.25); }
    .row{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    .score{font-weight:700}
    .tag{border:1px solid #2b3450; padding:2px 8px; border-radius:999px; font-size:12px}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <h1>ğŸ“¶ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ© WLAN â€“<br> Ù…. ØªØ¨ÙŠÙ„ Ø§Ù„Ø´ÙˆÙŠÙƒØ§Ù†</h1>
      <div class="controls">
        <button id="btnFlip" class="primary" title="Ø§Ù„Ù…Ø³Ø·Ø±Ø©: Ù…ÙØªØ§Ø­ Ø§Ù„Ù…Ø³Ø§ÙØ©">Ø§Ù‚Ù„Ø¨ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© â–¯</button>
        <button id="btnPrev" title="Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø£ÙŠÙ…Ù†/Ø§Ù„Ø£ÙŠØ³Ø±">â—€ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
        <button id="btnNext" title="Ø§Ù„Ø³Ù‡Ù… Ø§Ù„Ø£ÙŠÙ…Ù†/Ø§Ù„Ø£ÙŠØ³Ø±">Ø§Ù„ØªØ§Ù„ÙŠ â–¶</button>
        <button id="btnGood" class="good" title="Ø±Ù‚Ù… 1">Ø¹Ø±ÙØªÙ‡Ø§ âœ“</button>
        <button id="btnBad" class="bad" title="Ø±Ù‚Ù… 2">Ù„Ø§ØŒ Ø£Ø¹ÙØ¯Ù‡Ø§ âœ—</button>
        <button id="btnShuffle" title="Ø®Ù„Ø· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª">ğŸ”€ Ø®Ù„Ø·</button>
        <span class="tag" id="timer" title="Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ" style="margin-inline-start:8px">â±ï¸ â€”</span>
      </div>
    </header>

    <section class="panel" id="studyView">
      <div class="meta" style="margin-bottom:10px">
        <span class="pill" id="deckName">Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©: WLAN â€“ Ù…ÙØ§Ù‡ÙŠÙ… + Ø£Ù…Ø§Ù† + QoS + Ø£ÙˆØ¶Ø§Ø¹ + Ø£ÙˆØ§Ù…Ø±</span>
        <span class="muted">(<span id="idx">1</span>/<span id="total">1</span>)</span>
      </div>
      <div class="card" id="card">
        <div class="card-inner" id="cardInner">
          <div class="face front" id="front"></div>
          <div class="face back" id="back"></div>
        </div>
      </div>
      <div id="ex" class="exbox hidden">
        <h4>Ø´Ø±Ø­ Ù…Ø®ØªØµØ±</h4>
        <div id="exText"></div>
      </div>
      <div class="progress" aria-label="Ù†Ø³Ø¨Ø© Ø§Ù„ØªÙ‚Ø¯Ù…"><div class="bar" id="bar"></div></div>
      <p class="small muted">Ø§Ø®ØªØµØ§Ø±Ø§Øª: Ù…Ø³Ø§ÙØ© (Ù‚Ù„Ø¨)ØŒ Ø§Ù„Ø£Ø³Ù‡Ù… ÙŠÙ…ÙŠÙ†/ÙŠØ³Ø§Ø± (ØªÙ†Ù‚Ù‘Ù„)ØŒ 1 (ØµØ­)ØŒ 2 (Ø¥Ø¹Ø§Ø¯Ø©).</p>
    </section>

    <!-- ÙˆØ¶Ø¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± -->
    <section class="panel quizbox" id="quizSetup">
      <div class="row">
        <strong>ğŸ¯ ÙˆØ¶Ø¹ Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹</strong>
        <span class="muted">â€” Ø§Ø®ØªØ± Ù…Ø¯ØªÙ‡ Ø«Ù… Ø§Ø¨Ø¯Ø£</span>
      </div>
      <div class="row" style="margin-top:8px">
        <label for="mins" class="muted">Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚:</label>
        <input id="mins" type="number" min="1" max="60" value="10" style="width:90px" />
        <button id="btnStartQuiz" class="primary">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button>
        <span class="muted" id="quizInfo"></span>
      </div>
    </section>

    <section class="panel quizbox hidden" id="quizView">
      <div class="row" style="justify-content:space-between">
        <div>
          <span class="score">Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="score">0</span>/<span id="qtotal">0</span></span>
          <span class="tag" style="margin-inline-start:6px">Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="qidx">1</span></span>
        </div>
        <div class="muted">â±ï¸ <span id="quizTimer">â€”</span></div>
      </div>
      <div class="meta" style="margin-top:10px"><span class="pill" id="qFront"></span></div>
      <div class="row" style="margin-top:10px">
        <input id="ansInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨Ø© Ù‚ØµÙŠØ±Ø© (ÙƒÙ„Ù…Ø©/ÙƒÙ„Ù…ØªÙŠÙ†)â€¦" />
        <button id="btnSubmit" class="primary">ØªØ­Ù‚Ù‘Ù‚</button>
        <button id="btnSkip">ØªØ¬Ø§ÙˆØ²</button>
        <div id="tfBtns" class="row hidden">
          <button id="btnTrue" class="good">ØµØ­</button>
          <button id="btnFalse" class="bad">Ø®Ø·Ø£</button>
        </div>
      </div>
      <div id="quizFeedback" class="small" style="margin-top:8px"></div>
    </section>

    <section class="panel hidden" id="quizSummary">
      <h3 style="margin:0">ğŸ“Š Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
      <p class="muted" id="summaryText"></p>
      <div class="row"><button id="btnRetry" class="primary">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button><button id="btnBackStudy">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</button></div>
    </section>

    <footer style="margin-top:14px" class="muted small">
      ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ Ø¯ÙˆÙ† Ù…ÙƒØªØ¨Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©. ÙŠØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ Ù…Ø­Ù„ÙŠÙ‹Ø§ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­.
    </footer>
  </div>

  <script>
    // ===== 1) Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª: 60 Ø³Ø¤Ø§Ù„ (Ù†Ø¸Ø±ÙŠ 40 + Ø£Ù…Ø§Ù†/QoS/Ø£ÙˆØ¶Ø§Ø¹ 10 + Ø£ÙˆØ§Ù…Ø± 10) =====
    const cards = [
      // â€” Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª â€”
      {front:'Ù…Ø§ Ù‡ÙŠ WLAN (Wireless LAN)ØŸ', back:'Ø´Ø¨ÙƒØ© Ù…Ø­Ù„ÙŠØ© Ù„Ø§Ø³Ù„ÙƒÙŠØ©', ex:'ØªÙ…Ø¯ LAN Ø¹Ø¨Ø± Ù…ÙˆØ¬Ø§Øª Ø§Ù„Ø±Ø§Ø¯ÙŠÙˆ (IEEE 802.11) Ø¨Ø¯Ù„ Ø§Ù„ÙƒØ§Ø¨Ù„Ø§Øª.'},
      {front:'ØªØ¹Ù…Ù„ WLAN ÙˆÙÙ‚ Ù…Ø¹ÙŠØ§Ø±ØŸ', back:'IEEE 802.11', ex:'Ø¹Ø§Ø¦Ù„Ø© Ù…Ø¹Ø§ÙŠÙŠØ± Wiâ€‘Fi Ù„ÙƒÙ„ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø¯Ù†ÙŠØ§ Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ©.'},
      {front:'Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„ØªÙŠ ÙŠØºØ·ÙŠÙ‡Ø§ 802.11ØŸ', back:'L1/L2', ex:'Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© (Physical) ÙˆØ±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Data Link).'},
      {front:'Ø±Ù…Ø² Ø§Ù„Ù…Ø­Ø·Ø© Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ©ØŸ', back:'STA', ex:'Station: Ø¬Ù‡Ø§Ø² Ø¹Ù…ÙŠÙ„ Ù…Ø«Ù„ Ù‡Ø§ØªÙ/Ø­Ø§Ø³Ø¨ ÙŠØªØµÙ„ Ø¨Ø§Ù„Ù€AP.'},
      {front:'Ø§Ø®ØªØµØ§Ø± Ù†Ù‚Ø·Ø© Ø§Ù„ÙˆØµÙˆÙ„ØŸ', back:'AP', ex:'Access Point ÙŠØ±Ø¨Ø· STA Ø¨Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„Ø³Ù„ÙƒÙŠØ© ÙˆØ§Ù„Ø¥Ù†ØªØ±Ù†Øª.'},
      {front:'Ù…Ø§ SSID (Service Set Identifier)ØŸ', back:'Ø§Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©', ex:'Ù…Ø¹Ø±Ù‘Ù Ù…Ù†Ø·Ù‚ÙŠ ÙŠØ±Ø§Ù‡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ Ø§Ù„Ø§ØªØµØ§Ù„.'},
      {front:'BSSID ÙŠÙÙ…Ø«Ù‘Ù„ØŸ', back:'MAC Ù„Ù„Ù€AP', ex:'Ù…Ø¹Ø±Ù‘Ù ÙØ±ÙŠØ¯ Ù„Ù†Ù‚Ø·Ø© Ø§Ù„ÙˆØµÙˆÙ„ (Ø¹Ù†ÙˆØ§Ù† MAC Ù„Ù„Ø±Ø§Ø¯ÙŠÙˆ).'},
      {front:'BSS (Basic Service Set)ØŸ', back:'Ø®Ù„ÙŠØ© ØªØºØ·ÙŠØ©', ex:'Ù…Ø¬Ù…ÙˆØ¹Ø© STA ØªØªØµÙ„ Ø¨Ù†ÙØ³ AP Ø¶Ù…Ù† ØªØºØ·ÙŠØ© ÙˆØ§Ø­Ø¯Ø©.'},
      {front:'ESS (Extended Service Set)ØŸ', back:'Ø¹Ø¯Ø© BSS', ex:'Ù…Ø¬Ù…ÙˆØ¹Ø© APs Ø¨Ù†ÙØ³ SSID ØªØ±Ø¨Ø·Ù‡Ø§ Ø´Ø¨ÙƒØ§Øª ØªÙˆØ²ÙŠØ¹ (DS).'},
      {front:'Ù…ØµØ·Ù„Ø­ Association ÙŠØ¹Ù†ÙŠØŸ', back:'Ø§Ø±ØªØ¨Ø§Ø·', ex:'Ø¹Ù…Ù„ÙŠØ© Ø§Ù†Ø¶Ù…Ø§Ù… STA Ù„Ù„Ù€AP Ø¨Ø¹Ø¯ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© (Authentication).'},

      // â€” ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ§Øª ÙˆÙ‚Ù†Ø§Ø© â€”
      {front:'Ù†Ø·Ø§Ù‚Ø§ Wiâ€‘Fi Ø§Ù„Ø´Ø§Ø¦Ø¹Ø§Ù†ØŸ', back:'2.4/5 GHz', ex:'ØªØºØ·ÙŠØ© Ø£ÙˆØ³Ø¹ ÙÙŠ 2.4GHzØŒ Ø³Ø¹Ø© Ù‚Ù†ÙˆØ§Øª Ø£ÙƒØ¨Ø± ÙÙŠ 5GHz.'},
      {front:'Ù‚Ù†ÙˆØ§Øª 2.4GHz ØºÙŠØ± Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© (Ø¨Ù…Ø¹Ø¸Ù… Ø§Ù„Ø¯ÙˆÙ„)ØŸ', back:'1/6/11', ex:'ØªÙØµÙ„ Ø¨ÙŠÙ†Ù‡Ø§ 25MHz Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªØ¯Ø§Ø®Ù„ (ØºÙŠØ± Ø§Ù„ÙŠØ§Ø¨Ø§Ù†).'},
      {front:'Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ù†Ø§Ø© Channel WidthØŸ', back:'20/40/80 MHz', ex:'Ø§Ù„Ø£ÙˆØ³Ø¹ = Ø³Ø¹Ø© Ø£ÙƒØ¨Ø± Ù„ÙƒÙ† Ø­Ø³Ø§Ø³ÙŠØ© Ø£Ø¹Ù„Ù‰ Ù„Ù„ØªØ¯Ø§Ø®Ù„.'},
      {front:'DFS (Dynamic Frequency Selection)ØŸ', back:'ØªØ­Ø§Ø´ÙŠ Ø§Ù„Ø±Ø§Ø¯Ø§Ø±Ø§Øª', ex:'ØªØªØ·Ù„Ø¨ Ø¨Ø¹Ø¶ Ù‚Ù†ÙˆØ§Øª 5GHz Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø±Ø§Ø¯Ø§Ø± ÙˆØªØºÙŠÙŠØ± Ø§Ù„Ù‚Ù†Ø§Ø©.'},
      {front:'RSSI ÙŠØ¹Ù†ÙŠØŸ', back:'Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø©', ex:'Received Signal Strength Indicator Ù„Ù‚ÙŠØ§Ø³ Ø§Ù„Ù…Ø³ØªÙˆÙ‰.'},
      {front:'SNR ÙŠØ¹Ù†ÙŠØŸ', back:'Ù†Ø³Ø¨Ø© Ø¥Ø´Ø§Ø±Ø©/Ø¶Ø¬ÙŠØ¬', ex:'Signal-to-Noise RatioØ› ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯Øª ØªØ­Ø³Ù‘Ù† Ø§Ù„Ù…Ø¯Ù‰/Ø§Ù„Ù…Ø¹Ø¯Ù„.'},
      {front:'MCS IndexØŸ', back:'Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ´ÙƒÙŠÙ„', ex:'Modulation & Coding Scheme ÙŠØ­Ø¯Ù‘Ø¯ Ø§Ù„Ø³Ø±Ø¹Ø© Ø§Ù„Ù†Ø¸Ø±ÙŠØ©.'},
      {front:'Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØµØ§Ø¯Ù…Ø§Øª ÙÙŠ Wiâ€‘FiØŸ', back:'CSMA/CA', ex:'ØªØ¬Ù†Ù‘Ø¨ Ø§Ù„ØªØµØ§Ø¯Ù… Ø¨Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ (Collision Avoidance).'},
      {front:'Ù…ØªÙ‰ ÙŠÙØ³ØªØ®Ø¯Ù… RTS/CTSØŸ', back:'Ø¹Ù†Ø¯ Ø®ÙÙŠØ© Ø§Ù„Ø¹ÙÙ‚Ø¯', ex:'ÙŠÙ‚Ù„Ù‘Ù„ Ù…Ø´ÙƒÙ„Ø© hidden node Ø¹Ø¨Ø± Ø­Ø¬Ø² Ø§Ù„Ù‚Ù†Ø§Ø© Ù…Ø¤Ù‚ØªÙ‹Ø§.'},
      {front:'Beacon Frames Ø¯ÙˆØ±Ù‡Ø§ØŸ', back:'Ø¥Ø¹Ù„Ø§Ù† SSID', ex:'ØªØ°ÙŠØ¹ AP Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³ Ø¯ÙˆØ±ÙŠØ§Ù‹.'},

      // â€” Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§ØªØµØ§Ù„ â€”
      {front:'Probe Request/ResponseØŸ', back:'Ø§Ø³ØªÙƒØ´Ø§Ù', ex:'Ø¨Ø­Ø« STA Ø¹Ù† Ø´Ø¨ÙƒØ§Øª ÙˆØ±Ø¯Ù‘ AP Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·.'},
      {front:'Authentication ÙÙŠ 802.11ØŸ', back:'Ù…ØµØ§Ø¯Ù‚Ø©', ex:'Ù…Ø±Ø­Ù„Ø© Ù‚Ø¨Ù„ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·ØŒ Ù‚Ø¯ ØªÙƒÙˆÙ† Open Ø£Ùˆ 802.1X.'},
      {front:'Association/ReassociationØŸ', back:'Ø§Ø±ØªØ¨Ø§Ø·/Ø¥Ø¹Ø§Ø¯Ø©', ex:'Ø§Ù†Ø¶Ù…Ø§Ù… STA Ù„Ù„Ù€AP Ø£Ùˆ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„AP Ø¢Ø®Ø± Ø¶Ù…Ù† ESS.'},
      {front:'Roaming Ø¯Ø§Ø®Ù„ ESSØŸ', back:'ØªÙ†Ù‚Ù‘Ù„', ex:'Ø§Ù†ØªÙ‚Ø§Ù„ STA Ø¨ÙŠÙ† APs Ø¨Ù†ÙØ³ SSID Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù„Ø³Ø©.'},
      {front:'Ù‡Ù„ SSID Ø§Ù„Ù…Ø®ÙÙŠ ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø£Ù…Ø§Ù†ØŸ', back:'Ù„Ø§', ex:'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø§Ø³Ù… Ù„ÙŠØ³ Ø£Ù…Ø§Ù†Ù‹Ø§ Ø­Ù‚ÙŠÙ‚ÙŠÙ‹Ø§Ø› Ø§Ø³ØªØ®Ø¯Ù… ØªØ´ÙÙŠØ± Ù‚ÙˆÙŠ.'},
      {front:'WPS Ø¢Ù…Ù† Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¯Ø§Ø¦Ù…Ù‹Ø§ØŸ', back:'Ù„Ø§', ex:'Ù‚Ø¯ ÙŠÙØ³ØªØºÙ„ PINØ› ÙŠÙØ¶Ù‘ÙÙ„ ØªØ¹Ø·ÙŠÙ„Ù‡ ÙÙŠ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø³Ø©.'},
      {front:'Band SteeringØŸ', back:'ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ù†Ø·Ø§Ù‚', ex:'Ø­Ø« Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ù‚Ø§Ø¯Ø±Ø© Ù†Ø­Ùˆ 5GHz Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ø²Ø¯Ø­Ø§Ù… 2.4GHz.'},
      {front:'Co-Channel Interference (CCI)?', back:'ØªØ¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù‚Ù†Ø§Ø©', ex:'APs Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù†Ø§Ø© Ù†ÙØ³Ù‡Ø§ ÙŠØªØ´Ø§Ø±ÙƒÙˆÙ† ÙˆÙ‚Øª Ø§Ù„Ù‡ÙˆØ§Ø¡.'},
      {front:'Adjacent Channel Interference (ACI)?', back:'ØªØ¯Ø§Ø®Ù„ Ù‚Ù†ÙˆØ§Øª Ù…Ø¬Ø§ÙˆØ±Ø©', ex:'Ù‚Ù†ÙˆØ§Øª Ù…ØªØ¯Ø§Ø®Ù„Ø© ØªØ³Ø±Ù‘Ø¨ Ø·Ø§Ù‚ØªÙ‡Ø§ ÙØªÙ‚Ù„ Ø§Ù„Ø¬ÙˆØ¯Ø©.'},
      {front:'Ù†Ø³Ø¨Ø© ØªØ¯Ø§Ø®Ù„ Ø®Ù„ÙŠØ© Ø¢Ù…Ù†Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠÙ‹Ø§ØŸ', back:'15â€“20%', ex:'ØªØ¯Ø§Ø®Ù„ Ù…Ø­Ø³ÙˆØ¨ Ø¨ÙŠÙ† Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„ØªØ¬ÙˆØ§Ù„ Ø¯ÙˆÙ† ÙÙ‚Ø¯.'},

      // â€” Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠ â€”
      {front:'WEP Ø¢Ù…Ù† Ø§Ù„ÙŠÙˆÙ…ØŸ', back:'Ù„Ø§', ex:'Ø¶Ø¹ÙŠÙ ÙˆÙŠÙ…ÙƒÙ† ÙƒØ³Ø±Ù‡Ø› Ù„Ø§ ÙŠÙÙ†ØµØ­ Ø¨Ù‡ Ø¥Ø·Ù„Ø§Ù‚Ù‹Ø§.'},
      {front:'WPA2â€‘PSK Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ù†Ø§Ø²Ù„ØŸ', back:'Ù†Ø¹Ù…', ex:'Ù…ÙØªØ§Ø­ Ù…Ø´ØªØ±Ùƒ Ù…Ø³Ø¨Ù‚Ù‹Ø§Ø› Ø­Ø¯Ù‘Ø« ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø¯ÙˆØ±ÙŠÙ‹Ø§.'},
      {front:'WPA3 ÙŠØ¶ÙŠÙØŸ', back:'SAE', ex:'Ù…ØµØ§Ø¯Ù‚Ø© Ø£ÙƒØ«Ø± Ø£Ù…Ø§Ù†Ù‹Ø§ (Simultaneous Authentication of Equals).'},
      {front:'802.1X ÙŠØ³ØªØ®Ø¯Ù…ØŸ', back:'RADIUS', ex:'Ù…ØµØ§Ø¯Ù‚Ø© Enterprise Ù…Ø¹ EAP Ø¹Ø¨Ø± Ø®Ø§Ø¯Ù… AAA.'},
      {front:'EAP Ø§Ø®ØªØµØ§Ø±ØŸ', back:'Extensible Auth Protocol', ex:'Ø£Ø·Ø± Ù…ØµØ§Ø¯Ù‚Ø© Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ø«Ù„ PEAP/TLS/TTLS.'},
      {front:'Guest WLAN Ø¢Ù…Ù† Ø¨Ø¯ÙˆÙ† Ø¹Ø²Ù„ØŸ', back:'Ù„Ø§', ex:'ÙŠØªØ·Ù„Ø¨ Ø¹Ø²Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆPortal ÙˆÙ‚ÙŠÙˆØ¯ ACL/QoS.'},
      {front:'TKIP Ù…Ù‚Ø§Ø¨Ù„ AESØŸ', back:'AES Ø£ÙØ¶Ù„', ex:'AES/CCMP Ø£Ù‚ÙˆÙ‰ ØªØ´ÙÙŠØ±Ù‹Ø§ Ù…Ù† TKIP Ø§Ù„Ù‚Ø¯ÙŠÙ….'},
      {front:'PMF/MFP ØªØ¹Ù†ÙŠØŸ', back:'Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª', ex:'Protected Management Frames Ù„Ù…ØªØ§Ù†Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¶Ø¯ Ø§Ù„Ø¹Ø¨Ø«.'},
      {front:'Open WLAN Ø¨Ø¯ÙˆÙ† ØªØ´ÙÙŠØ± Ø¢Ù…Ù†ØŸ', back:'Ù„Ø§', ex:'Ø¨Ø¯ÙˆÙ† ØªØ´ÙÙŠØ±ØŒ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙƒØ´ÙˆÙØ© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø¹ØªØ±Ø§Ø¶.'},
      {front:'ØªØºÙŠÙŠØ± SSID Ø¯ÙˆØ±ÙŠÙ‹Ø§ ÙŠØ­Ø³Ù‘Ù† Ø§Ù„Ø£Ù…Ø§Ù†ØŸ', back:'Ù„Ø§', ex:'Ø§Ù„Ø£Ù‡Ù… Ø§Ù„ØªØ´ÙÙŠØ± ÙˆØ§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù‚ÙˆÙŠØ© ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙØ§ØªÙŠØ­.'},

      // â€” QoS ÙˆØ§Ù„Ø¬ÙˆØ¯Ø© â€”
      {front:'WMM ÙŠØ¹Ù†ÙŠØŸ', back:'Wiâ€‘Fi Multimedia', ex:'Ø£Ø±Ø¨Ø¹ ÙØ¦Ø§Øª Ø£ÙˆÙ„ÙˆÙŠØ© (Voice/Video/Best Effort/Background).'},
      {front:'EDCA Ù…Ù‚Ø§Ø¨Ù„ HCCAØŸ', back:'EDCA Ø´Ø§Ø¦Ø¹', ex:'EDCA Ø¢Ù„ÙŠØ© Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ÙˆØ²Ø¹Ø©Ø› HCCA Ù…Ø±ÙƒØ²ÙŠØ© Ù†Ø§Ø¯Ø±Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….'},
      {front:'CAC (Call Admission Control)?', back:'ØªØ­ÙƒÙ‘Ù… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ù…ÙƒØ§Ù„Ù…Ø§Øª', ex:'ÙŠÙ…Ù†Ø¹ ØªØ­Ù…ÙŠÙ„Ù‹Ø§ Ø²Ø§Ø¦Ø¯Ù‹Ø§ ÙŠØ­Ø·Ù‘ Ù…Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ØµÙˆØª.'},
      {front:'TID ÙÙŠ WMMØŸ', back:'Ù…ÙØ¹Ø±Ù‘Ù Ø§Ù„Ù…Ø±ÙˆØ±', ex:'Traffic ID Ù„ØªØ¹ÙŠÙŠÙ† Ø¥Ø·Ø§Ø± Ø¥Ù„Ù‰ ÙØ¦Ø© Ø£ÙˆÙ„ÙˆÙŠØ© Ù…Ø¹ÙŠÙ†Ø©.'},
      {front:'Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØµÙˆØª Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©ØŸ', back:'SNR>25dB', ex:'ØªØºØ·ÙŠØ© Ø«Ø§Ø¨ØªØ©ØŒ jitter/latency Ù…Ù†Ø®ÙØ¶Ø§Ù†ØŒ Ù‚Ù†ÙˆØ§Øª Ù†Ø¸ÙŠÙØ©.'},

      // â€” Ø£ÙˆØ¶Ø§Ø¹ AP ÙˆØ§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© â€”
      {front:'Autonomous APØŸ', back:'Ù…Ø³ØªÙ‚Ù„', ex:'ÙŠØ¯Ø§Ø± Ù…Ø­Ù„ÙŠÙ‹Ø§ Ø¯ÙˆÙ† Ù…ØªØ­ÙƒÙ‘Ù…Ø› Ù…Ù†Ø§Ø³Ø¨ Ù„Ù†Ø·Ø§Ù‚Ø§Øª ØµØºÙŠØ±Ø©.'},
      {front:'Lightweight AP (LAP)?', back:'ØªØ§Ø¨Ø¹ Ù„Ù…ØªØ­ÙƒÙ‘Ù…', ex:'ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ WLC Ø¹Ø¨Ø± CAPWAP Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ø±ÙƒØ²ÙŠØ©.'},
      {front:'CAPWAP ÙŠØ¹Ù†ÙŠØŸ', back:'Ù†ÙÙ‚ ØªØ­ÙƒÙ‘Ù…/Ø¨ÙŠØ§Ù†Ø§Øª', ex:'Control And Provisioning of Wireless APs Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù€AP.'},
      {front:'Splitâ€‘MAC ArchitectureØŸ', back:'ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ÙˆØ¸Ø§Ø¦Ù', ex:'Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù… Ø¹Ù„Ù‰ AP ÙˆØ£Ø®Ø±Ù‰ Ø¹Ù„Ù‰ WLC Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙƒÙØ§Ø¡Ø©.'},
      {front:'Ø£ÙˆØ¶Ø§Ø¹ AP Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©ØŸ', back:'Local/Monitor', ex:'ÙƒØ°Ù„Ùƒ FlexConnect/Mesh/Sniffer ÙˆÙÙ‚ Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ.'},

      // â€” ØªØµÙ…ÙŠÙ…: SOHO Ù…Ù‚Ø§Ø¨Ù„ Enterprise â€”
      {front:'SOHO Wireless Router ÙŠØ¶Ù…ØŸ', back:'Router+AP+Switch', ex:'Ø¬Ù‡Ø§Ø² Ù…Ù†Ø²Ù„ÙŠ ÙŠØ¯Ù…Ø¬ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ù…Ø¹ Ø¬Ø¯Ø§Ø± Ù†Ø§Ø±ÙŠ ØºØ§Ù„Ø¨Ù‹Ø§.'},
      {front:'Enterprise WLAN ÙŠÙØ¶Ù‘Ù„ØŸ', back:'WLC Ù…Ø±ÙƒØ²ÙŠ', ex:'Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ­Ù‘Ø¯Ø© Ù„Ù„Ø³ÙŠØ§Ø³Ø§ØªØŒ ØªØ¬ÙˆØ§Ù„ØŒ Ù‚Ù†ÙˆØ§ØªØŒ Ø·Ø§Ù‚Ø©.'},
      {front:'Captive Portal ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù€ØŸ', back:'Ø¶ÙŠÙˆÙ', ex:'Ù…ØµØ§Ø¯Ù‚Ø©/Ù‚Ø¨ÙˆÙ„ Ø´Ø±ÙˆØ· Ù‚Ø¨Ù„ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø¥Ù†ØªØ±Ù†Øª.'},
      {front:'Site Survey Ù†ÙˆØ¹Ø§Ù†ØŸ', back:'Passive/Active', ex:'Ù‚ÙŠØ§Ø³Ø§Øª ØªØºØ·ÙŠØ© ÙØ¹Ù„ÙŠØ© ÙˆØªÙ‚ÙŠÙŠÙ… Ø§Ø²Ø¯Ø­Ø§Ù… Ø§Ù„Ù‚Ù†ÙˆØ§Øª.'},
      {front:'Coverage Hole DetectionØŸ', back:'ÙƒØ´Ù ÙØ¬ÙˆØ§Øª', ex:'ÙŠØ±Ø§Ù‚Ø¨ Ø¶Ø¹Ù Ø§Ù„ØªØºØ·ÙŠØ© ÙˆÙŠÙ‚ØªØ±Ø­ Ø²ÙŠØ§Ø¯Ø© Ø·Ø§Ù‚Ø©/Ù†Ù‚Ø§Ø·.'},

      // â€” Ø§Ù„Ø£ÙˆØ§Ù…Ø± (WLC/AP/SOHO) â€”
      {front:'Ø£Ù…Ø± Ù…Ù„Ø®Øµ Ø§Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ© (WLC)?', back:'show wlan summary', ex:'ÙŠØ¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© WLAN/SSID ÙˆØ§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†.'},
      {front:'Ù…Ù„Ø®Øµ Ù†Ù‚Ø§Ø· Ø§Ù„ÙˆØµÙˆÙ„ (WLC)?', back:'show ap summary', ex:'ÙŠØ¹Ø±Ø¶ Ø¹Ø¯Ø¯ Ø§Ù„Ù€APs ÙˆØ­Ø§Ù„ØªÙ‡Ø§ ÙˆØ¥ØµØ¯Ø§Ø±Ø§ØªÙ‡Ø§.'},
      {front:'Ù…Ù„Ø®Øµ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…ØªØµÙ„ÙŠÙ† (WLC)?', back:'show wireless client summary', ex:'Ø¹Ø¯Ø¯/Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆMAC/SSID Ø¨Ø´ÙƒÙ„ Ù…ÙˆØ¬Ø².'},
      {front:'Ø¥Ø­ØµØ§Ø¡Ø§Øª 2.4GHz/5GHz (WLC)?', back:'show controllers dot11 24/5ghz', ex:'ÙŠØ¹Ø±Ø¶ Ù‚Ù†ÙˆØ§Øª/Ù‚Ø¯Ø±Ø©/Ø£Ø®Ø·Ø§Ø¡ Ù„Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ©.'},
      {front:'ØªÙØ§ØµÙŠÙ„ WLAN Ù…Ø­Ø¯Ø¯Ø© (WLC)?', back:'show wlan id <X>', ex:'ÙŠØ¹Ø·ÙŠ Ø£Ù…Ø§Ù†/QoS/ÙˆØ§Ø¬Ù‡Ø©/SSID Ù„Ù„Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù…Ø·Ù„ÙˆØ¨.'},
      {front:'ÙˆØ¶Ø¹ FlexConnect Ø¹Ù„Ù‰ APØŸ', back:'show capwap client', ex:'ÙŠÙØ¸Ù‡Ø± Ø­Ø§Ù„Ø© CAPWAP/ÙˆØ¶Ø¹ AP ÙˆØ§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù…ØªØ­ÙƒÙ‘Ù….'},
      {front:'Ø¹Ø±Ø¶ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ø§Ù„Ù„Ø§Ø³Ù„ÙƒÙŠØ© (AP)?', back:'show dot11 associations', ex:'Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ø§Ù„Ù…Ø±ØªØ¨Ø·ÙŠÙ† ÙˆÙ…Ø¹Ø¯Ù‘Ù„Ø§ØªÙ‡Ù….'},
      {front:'Ø­Ø§Ù„Ø© Ø±Ø§Ø¯ÙŠÙˆ AP (AP)?', back:'show controllers dot11radio 0/1', ex:'ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ±Ø¯Ø¯/Ø§Ù„Ù‚Ù†Ø§Ø©/Ø§Ù„Ø·Ø§Ù‚Ø© ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡.'},
      {front:'Ø³Ø·Ø± ØªØ´ØºÙŠÙ„ WLAN (WLC/IOSâ€‘XE)?', back:'show running-config | sec wlan', ex:'ÙŠØ¹Ø±Ø¶ Ù…Ù‚Ø·Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª WLAN/SSID ÙˆØ§Ù„Ø³ÙŠØ§Ø³Ø§Øª.'},
      {front:'Ù…Ù‚ØªØ±Ø­ ØªØµØ­ÙŠØ­ ØªØ¯Ø§Ø®Ù„ (Ø£Ø¯Ø§Ø©)', back:'site survey/chan plan', ex:'Ø§Ø³ØªØ®Ø¯Ù… Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø³Ø­ Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‚Ù†ÙˆØ§Øª/Ø·Ø§Ù‚Ø© AP.'}
    ];

    // ===== 2) Ø¹Ù†Ø§ØµØ± DOM =====
    const els = {
      front: document.getElementById('front'),
      back: document.getElementById('back'),
      card: document.getElementById('card'),
      idx: document.getElementById('idx'),
      total: document.getElementById('total'),
      bar: document.getElementById('bar'),
      btnFlip: document.getElementById('btnFlip'),
      btnPrev: document.getElementById('btnPrev'),
      btnNext: document.getElementById('btnNext'),
      btnGood: document.getElementById('btnGood'),
      btnBad: document.getElementById('btnBad'),
      btnShuffle: document.getElementById('btnShuffle'),
      exBox: document.getElementById('ex'),
      exText: document.getElementById('exText'),
      timer: document.getElementById('timer'),
      // quiz
      mins: document.getElementById('mins'),
      btnStartQuiz: document.getElementById('btnStartQuiz'),
      quizInfo: document.getElementById('quizInfo'),
      quizSetup: document.getElementById('quizSetup'),
      quizView: document.getElementById('quizView'),
      qFront: document.getElementById('qFront'),
      qidx: document.getElementById('qidx'),
      qtotal: document.getElementById('qtotal'),
      score: document.getElementById('score'),
      ansInput: document.getElementById('ansInput'),
      btnSubmit: document.getElementById('btnSubmit'),
      btnSkip: document.getElementById('btnSkip'),
      quizFeedback: document.getElementById('quizFeedback'),
      quizTimer: document.getElementById('quizTimer'),
      tfBtns: document.getElementById('tfBtns'),
      btnTrue: document.getElementById('btnTrue'),
      btnFalse: document.getElementById('btnFalse'),
      quizSummary: document.getElementById('quizSummary'),
      summaryText: document.getElementById('summaryText'),
      btnRetry: document.getElementById('btnRetry'),
      btnBackStudy: document.getElementById('btnBackStudy'),
      studyView: document.getElementById('studyView'),
    };

    // ===== 3) Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© =====
    let i = 0;
    const STORAGE_KEY = 'wlan-known-v1';
    let known = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'));

    function updateExplain(){
      const flipped = els.card.classList.contains('flipped');
      const hasEx = !!cards[i].ex;
      if(flipped && hasEx){ els.exText.textContent = cards[i].ex; els.exBox.classList.remove('hidden'); }
      else { els.exBox.classList.add('hidden'); els.exText.textContent = ''; }
    }
    function render(){
      els.total.textContent = cards.length;
      els.idx.textContent = i + 1;
      els.front.textContent = cards[i].front;
      els.back.textContent  = cards[i].back;
      const progress = (known.size / cards.length) * 100; els.bar.style.width = progress + '%';
      els.card.classList.remove('flipped');
      updateExplain();
    }
    function flip(){ els.card.classList.toggle('flipped'); updateExplain(); }
    function next(){ i = (i + 1) % cards.length; render(); }
    function prev(){ i = (i - 1 + cards.length) % cards.length; render(); }
    function markKnown(){ known.add(i); localStorage.setItem(STORAGE_KEY, JSON.stringify([...known])); next(); }
    function markUnknown(){ known.delete(i); localStorage.setItem(STORAGE_KEY, JSON.stringify([...known])); next(); }
    function shuffle(){ for(let j = cards.length - 1; j > 0; j--){ const k = Math.floor(Math.random() * (j + 1)); [cards[j], cards[k]] = [cards[k], cards[j]]; } i = 0; render(); }

    els.btnFlip.addEventListener('click', flip);
    els.btnNext.addEventListener('click', next);
    els.btnPrev.addEventListener('click', prev);
    els.btnGood.addEventListener('click', markKnown);
    els.btnBad.addEventListener('click', markUnknown);
    els.btnShuffle.addEventListener('click', shuffle);

    document.addEventListener('keydown', (e)=>{
      if(e.code === 'Space'){ e.preventDefault(); flip(); }
      else if(e.key === 'ArrowRight'){ next(); }
      else if(e.key === 'ArrowLeft'){ prev(); }
      else if(e.key === '1'){ markKnown(); }
      else if(e.key === '2'){ markUnknown(); }
    });

    // ===== 4) ÙˆØ¶Ø¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± =====
    let quiz = { order: [], idx: 0, score: 0, total: 0, running: false, endAt: 0, tHandle: null };

    function normalize(s){
      return (s||'')
        .toString()
        .trim()
        .toLowerCase()
        .replace(/[\u200f\u200e]/g,'') // Ø¹Ù„Ø§Ù…Ø§Øª Ø§ØªØ¬Ø§Ù‡
        .replace(/[\u0610-\u061a\u064b-\u065f\u06d6-\u06ed]/g,'') // ØªØ´ÙƒÙŠÙ„
        .replace(/[â€“â€”âˆ’]/g,'-')
        .replace(/\s+/g,' ');
    }

    const synonyms = {
      'Ø´Ø¨ÙƒØ© Ù…Ø­Ù„ÙŠØ© Ù„Ø§Ø³Ù„ÙƒÙŠØ©':['wlan','Ø´Ø¨ÙƒØ© Ù…Ø­Ù„ÙŠØ© Ù„Ø§Ø³Ù„ÙƒÙŠØ©'],
      'ieee 802.11':['ieee 802.11','802.11','ÙˆØ§ÙŠ ÙØ§ÙŠ','wifi'],
      'l1/l2':['l1/l2','l1 l2','physical/data link','physical & data link'],
      'sta':['sta','Ù…Ø­Ø·Ø©','Ø¹Ù…ÙŠÙ„'],
      'ap':['ap','Ù†Ù‚Ø·Ø© ÙˆØµÙˆÙ„','Ø§ÙƒØ³Ø³ Ø¨ÙˆÙŠÙ†Øª'],
      'Ø§Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©':['Ø§Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ©','ssid'],
      'mac Ù„Ù„Ù€ap':['bssid','mac Ù„Ù„Ù€ap','bssid mac'],
      '2.4/5 ghz':['2.4/5 ghz','2.4 Ùˆ5'],
      '1/6/11':['1/6/11','1 6 11'],
      '20/40/80 mhz':['20/40/80 mhz','20 40 80'],
      'csma/ca':['csma/ca','csma ca'],
      'Ø±Ø§Ø¯Ø§Ø±Ø§Øª':['dfs','ØªØ­Ø§Ø´ÙŠ Ø§Ù„Ø±Ø§Ø¯Ø§Ø±Ø§Øª','Ø±Ø§Ø¯Ø§Ø±Ø§Øª'],
      'Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø©':['rssi','Ù‚ÙˆØ© Ø§Ù„Ø¥Ø´Ø§Ø±Ø©'],
      'Ù†Ø³Ø¨Ø© Ø¥Ø´Ø§Ø±Ø©/Ø¶Ø¬ÙŠØ¬':['snr','Ù†Ø³Ø¨Ø© Ø¥Ø´Ø§Ø±Ø©/Ø¶Ø¬ÙŠØ¬'],
      'Ø§Ø±ØªØ¨Ø§Ø·':['association','Ø§Ø±ØªØ¨Ø§Ø·'],
      'ØªÙ†Ù‚Ù‘Ù„':['roaming','ØªÙ†Ù‚Ù„','ØªÙ†Ù‚Ù‘Ù„'],
      'ØªØ¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù‚Ù†Ø§Ø©':['cci','ØªØ¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„Ù‚Ù†Ø§Ø©'],
      'ØªØ¯Ø§Ø®Ù„ Ù‚Ù†ÙˆØ§Øª Ù…Ø¬Ø§ÙˆØ±Ø©':['aci','ØªØ¯Ø§Ø®Ù„ Ù‚Ù†ÙˆØ§Øª Ù…Ø¬Ø§ÙˆØ±Ø©'],
      'sae':['sae','wpa3 sae'],
      'radius':['radius','aaa'],
      'aes':['aes','ccmp'],
      'wmm':['wmm','wifi multimedia'],
      'edca':['edca','hcca edca','edca/hcca'],
      'local/monitor':['local/monitor','local','monitor'],
      'router+ap+switch':['router+ap+switch','soho router'],
      'show wlan summary':['show wlan summary','wlan summary'],
      'show ap summary':['show ap summary','ap summary'],
      'show wireless client summary':['show wireless client summary','client summary'],
      'show controllers dot11 24/5ghz':['show controllers dot11 24/5ghz','controllers dot11'],
      'show wlan id <x>':['show wlan id <x>','show wlan id'],
      'show capwap client':['show capwap client','capwap client'],
      'show dot11 associations':['show dot11 associations','dot11 associations'],
      'show controllers dot11radio 0/1':['show controllers dot11radio 0/1','controllers dot11radio'],
      'show running-config | sec wlan':['show running-config | sec wlan','show run sec wlan'],
      'site survey/chan plan':['site survey/chan plan','site survey','channel plan']
    };

    function eq(a,b){
      a = normalize(a); b = normalize(b);
      if(a===b) return true;
      // Ù†Ø¹Ù…/Ù„Ø§ â†” ØµØ­/Ø®Ø·Ø£
      if((b==='Ù†Ø¹Ù…' && (a==='ØµØ­' || a==='Ù†Ø¹Ù…')) || (b==='Ù„Ø§' && (a==='Ø®Ø·Ø£' || a==='Ù„Ø§'))) return true;
      for(const key in synonyms){ if(b===key && synonyms[key].includes(a)) return true; }
      return false;
    }

    function startTimer(mins){ const ms = mins*60*1000; quiz.endAt = Date.now()+ms; updateTimer(); quiz.tHandle = setInterval(updateTimer, 250); }
    function stopTimer(){ if(quiz.tHandle){ clearInterval(quiz.tHandle); quiz.tHandle=null; } els.quizTimer.textContent='â€”'; }
    function updateTimer(){ const remain = Math.max(0, quiz.endAt - Date.now()); const m = Math.floor(remain/60000); const s = Math.floor((remain%60000)/1000); els.quizTimer.textContent = `${m}:${String(s).padStart(2,'0')}`; els.timer.textContent = `â±ï¸ ${m}:${String(s).padStart(2,'0')}`; if(remain<=0){ finishQuiz(); } }

    function show(el){ el.classList.remove('hidden'); }
    function hide(el){ el.classList.add('hidden'); }

    function beginQuiz(){
      quiz.order = Array.from(cards.keys());
      for(let j = quiz.order.length-1; j>0; j--){ const k = Math.floor(Math.random()*(j+1)); [quiz.order[j], quiz.order[k]] = [quiz.order[k], quiz.order[j]]; }
      quiz.idx = 0; quiz.score = 0; quiz.total = quiz.order.length; quiz.running = true; els.qtotal.textContent = quiz.total;
      els.score.textContent = '0'; els.qidx.textContent = '1'; els.quizFeedback.textContent = '';
      hide(els.quizSetup); show(els.quizView); hide(els.quizSummary); hide(els.studyView);
      loadQuestion();
      const mins = Math.max(1, Math.min(60, parseInt(els.mins.value||'10',10)));
      startTimer(mins);
      els.quizInfo.textContent = `ØªÙ… Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù€ ${mins} Ø¯Ù‚ÙŠÙ‚Ø©`;
    }

    function loadQuestion(){
      const idx = quiz.order[quiz.idx]; const c = cards[idx];
      els.qFront.textContent = c.front;
      els.ansInput.value=''; els.ansInput.focus();
      const b = normalize(c.back);
      if(b === 'ØµØ­' || b === 'Ø®Ø·Ø£' || b==='Ù†Ø¹Ù…' || b==='Ù„Ø§'){ show(els.tfBtns); } else { hide(els.tfBtns); }
    }

    function checkAnswer(userAns){
      const idx = quiz.order[quiz.idx]; const c = cards[idx];
      const a = normalize(userAns);
      let b = normalize(c.back);
      if(['yes','ØµØ­','Ù†Ø¹Ù…','true'].includes(b)) b = 'Ù†Ø¹Ù…';
      if(['no','Ø®Ø·Ø£','Ù„Ø§','false'].includes(b)) b = 'Ù„Ø§';

      const ok = (a===b) || eq(a,b);
      if(ok){ quiz.score++; els.quizFeedback.innerHTML = 'âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©'; }
      else{ els.quizFeedback.innerHTML = `âŒ Ø§Ù„ØµØ­ÙŠØ­: <span class="kbd">${c.back}</span>` + (c.ex? `<br/><span class="small muted">${c.ex}</span>`:''); }
      els.score.textContent = String(quiz.score);
      quiz.idx++;
      if(quiz.idx >= quiz.total){ finishQuiz(); }
      else { els.qidx.textContent = String(quiz.idx+1); loadQuestion(); }
    }

    function finishQuiz(){
      if(!quiz.running) return; quiz.running = false; stopTimer();
      hide(els.quizView); show(els.quizSummary);
      const percent = Math.round((quiz.score/quiz.total)*100);
      els.summaryText.innerHTML = `Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: <strong>${quiz.score}</strong> Ù…Ù† <strong>${quiz.total}</strong> â€” Ø§Ù„Ø¯Ø±Ø¬Ø©: <strong>${percent} / 100</strong>`;
    }

    // Ø±ÙˆØ§Ø¨Ø· Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
    els.btnStartQuiz.addEventListener('click', beginQuiz);
    els.btnSubmit.addEventListener('click', ()=>{ checkAnswer(els.ansInput.value); });
    els.btnSkip.addEventListener('click', ()=>{ checkAnswer('___'); });
    els.btnTrue.addEventListener('click', ()=> checkAnswer('Ù†Ø¹Ù…'));
    els.btnFalse.addEventListener('click', ()=> checkAnswer('Ù„Ø§'));
    els.btnRetry.addEventListener('click', ()=>{ show(els.quizSetup); hide(els.quizSummary); hide(els.studyView); });
    els.btnBackStudy.addEventListener('click', ()=>{ show(els.studyView); hide(els.quizSetup); hide(els.quizSummary); stopTimer(); });

    // ===== 5) Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Console =====
    (function selfTests(){
      const tests = [];
      function t(name, fn){ try{ fn(); tests.push({name, ok:true}); } catch(e){ tests.push({name, ok:false, msg:e.message}); } }
      t('cards: Ù…ØµÙÙˆÙØ© Ø¨Ø·ÙˆÙ„ 60', ()=>{ if(!Array.isArray(cards) || cards.length !== 60) throw new Error('Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 60'); });
      t('ÙƒÙ„ Ø¨Ø·Ø§Ù‚Ø© ØªØ­ØªÙˆÙŠ front/back', ()=>{ cards.forEach(c=>{ if(typeof c.front!== 'string' || typeof c.back!=='string') throw new Error('front/back Ù†ÙˆØ¹ ØºÙŠØ± Ù†ØµÙŠ'); }); });
      t('Ø´Ø±Ø­ Ù…Ø®ØªØµØ± â‰¤ Ø³Ø·Ø±ÙŠÙ† ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§', ()=>{ cards.forEach(c=>{ if(c.ex && c.ex.length>240) throw new Error('Ø´Ø±Ø­ Ø·ÙˆÙŠÙ„'); }); });
      t('localStorage ÙŠØ¹Ù…Ù„', ()=>{ localStorage.setItem('__t','1'); if(localStorage.getItem('__t')!=='1') throw new Error('ØªØ¹Ø°Ù‘Ø±'); localStorage.removeItem('__t'); });
      console.log('%c[Flashcards WLAN 60] Self-tests:', 'color:#7dd3fc');
      tests.forEach(r=> console.log(r.ok ? 'âœ… '+r.name : 'âŒ '+r.name+' â€” '+r.msg));
    })();

    // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø±Ø¶
    render();
  </script>
</body>
</html>
